@using PitStopAutoShop.Web.Helpers
@model PitStopAutoShop.Web.Data.Entities.User

@{
    ViewData["Title"] = "ViewUser";    
    var updateButton = new ButtonModel() { content = "Update", cssClass = "e-flat" };    
}

<div class="row" style="height:80vh">
   <div class="col-1"></div>
   <div class="col-10" style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19); margin-bottom:25px;margin-top:25px; background-color:#f4f3ee;padding:0;">

        <h1>User Profile</h1>
       
             <div class="row" style="margin-top:50px">
                 <div class="col-md-1"></div>
                 <div class="col-md-6 ">
                     
                         <div asp-validation-summary="ModelOnly"></div>             
             
                         <div class="form-group pad">
                             <label asp-for="FullName"></label>
                             <input asp-for="FullName" class="form-control sharp" readonly/>                
                         </div>
             
                         <div class="form-group pad">
                             <label asp-for="Address"></label>
                             <input asp-for="Address" class="form-control sharp" readonly/>                
                         </div>
             
                         <div class="form-group pad">
                             <label asp-for="Email"></label>
                             <input asp-for="Email" class="form-control sharp" readonly/>                
                         </div>
             
                          <div class="form-group pad">
                             <label asp-for="PhoneNumber"></label>
                             <input asp-for="PhoneNumber" class="form-control sharp" readonly/>               
                         </div>        
                 </div>  
             
                 
             
                 <div class="col-md-4 card" style="margin-top:32px;position:unset;">
                      <div class="form-group imageStyle" id="profilePictureBackground" style="background:Url('/images/blankProfilePicture.png');margin:auto;margin-top:20px;border-radius:0;">               
                             <input class="form-control my_file" id="file" name="file" type="file" onchange="changeProfilePicture('file')"/>                            
                      </div>

                        @if (this.User.IsInRole("Customer"))
                        {
                            <a asp-action="ServiceHistory" class="btn btn-dark sharp" style="width:256px; margin:auto;margin-top:20px">Service History</a>
                            <a asp-action="Vehicles" class="btn btn-primary sharp" style="width:256px; margin:auto;margin-top:20px">Vehicles</a>
                        }
                
                      <a asp-action="ChangeUser" style="width:256px; margin:auto; margin-bottom:20px;margin-top:20px" class="btn btn-success sharp">Edit Profile</a>

                 </div>
             
                 <div class="col-md-1"></div>
             </div>          
     
   </div>
   <div class="col-1"></div>
</div>

<style>
    h1{
         text-align: center;
         margin-top: 2%;
         font-size: xx-large;        
    }

    .form-group{
        max-width: 400px;
        margin: auto;
    } 

    a.sharp {
         border-radius: 0;
         box-shadow: rgba(14, 30, 37, 0.12) 0px 2px 4px 0px, rgba(14, 30, 37, 0.32) 0px 2px 16px 0px;
        
    }

    input.sharp{
        border-radius:0;
        box-shadow: rgba(14, 30, 37, 0.12) 0px 2px 4px 0px, rgba(14, 30, 37, 0.32) 0px 2px 16px 0px;
    }

    .card{
        background-color:white;
        max-width:300px;
        box-shadow: rgba(14, 30, 37, 0.12) 0px 2px 4px 0px, rgba(14, 30, 37, 0.32) 0px 2px 16px 0px;
    }

    .my_file{
    position:absolute;
    bottom:0px;
    outline:none;
    color: transparent;
    width: 100%;      
    height:100%;
    padding: 15px 100px;
    cursor: pointer;
    transition: 1s;
    background: rgba(0,0,0,0.5);
    opacity:0.1;
    border-radius:0;
    }
    .my_file::-webkit-file-upload-button{
        visibility: hidden;
    }
    .my_file::before {
        content: 'Update';    
        font-size: 14px;
        font-family:Arial;
        font-weight:bold;
        color:mintcream;
        display:block;  
    }
    .my_file:hover{
        opacity:1;
    }

    .imageStyle {
         height: 256px;
         width: 256px;
         position: relative;
         border: 5px solid #ffd800;
         /*border-radius: 50%;*/
         overflow: hidden;  
         box-shadow: rgba(14, 30, 37, 0.12) 0px 2px 4px 0px, rgba(14, 30, 37, 0.32) 0px 2px 16px 0px;
    }

    .pad{
        padding: 20px;
    }


</style>


@section Scripts
{
    @{ await Html.RenderPartialAsync("_ValidationScriptsPartial");}
    <script type="text/Javascript">
    window.onload = getBackgroundProfilePicture();
    </script>
}

